{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.once = once;\nvar _async = require(\"./async\");\nfunction once(fn) {\n  let result;\n  let resultP;\n  return function* () {\n    if (result) return result;\n    if (!(yield* (0, _async.isAsync)())) return result = yield* fn();\n    if (resultP) return yield* (0, _async.waitFor)(resultP);\n    let resolve, reject;\n    resultP = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    try {\n      result = yield* fn();\n      resultP = null;\n      resolve(result);\n      return result;\n    } catch (error) {\n      reject(error);\n      throw error;\n    }\n  };\n}\n0 && 0;","map":{"version":3,"mappings":";;;;;;AAEA;AAEO,SAASA,IAAI,CAAIC,EAAoB,EAAoB;EAC9D,IAAIC,MAAS;EACb,IAAIC,OAAmB;EACvB,OAAO,aAAa;IAClB,IAAID,MAAM,EAAE,OAAOA,MAAM;IACzB,IAAI,EAAE,OAAO,kBAAO,GAAE,CAAC,EAAE,OAAQA,MAAM,GAAG,OAAOD,EAAE,EAAE;IACrD,IAAIE,OAAO,EAAE,OAAO,OAAO,kBAAO,EAACA,OAAO,CAAC;IAE3C,IAAIC,OAA4B,EAAEC,MAAgC;IAClEF,OAAO,GAAG,IAAIG,OAAO,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;MAClCJ,OAAO,GAAGG,GAAG;MACbF,MAAM,GAAGG,GAAG;IACd,CAAC,CAAC;IAEF,IAAI;MACFN,MAAM,GAAG,OAAOD,EAAE,EAAE;MAGpBE,OAAO,GAAG,IAAI;MACdC,OAAO,CAACF,MAAM,CAAC;MACf,OAAOA,MAAM;IACf,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdJ,MAAM,CAACI,KAAK,CAAC;MACb,MAAMA,KAAK;IACb;EACF,CAAC;AACH;AAAC","names":["once","fn","result","resultP","resolve","reject","Promise","res","rej","error"],"sources":["/Users/elahehaslani/Work/Sample-Project/ticket-booking/ticket-booking/node_modules/@babel/core/src/gensync-utils/functional.ts"],"sourcesContent":["import type { Handler } from \"gensync\";\n\nimport { isAsync, waitFor } from \"./async\";\n\nexport function once<R>(fn: () => Handler<R>): () => Handler<R> {\n  let result: R;\n  let resultP: Promise<R>;\n  return function* () {\n    if (result) return result;\n    if (!(yield* isAsync())) return (result = yield* fn());\n    if (resultP) return yield* waitFor(resultP);\n\n    let resolve: (result: R) => void, reject: (error: unknown) => void;\n    resultP = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n\n    try {\n      result = yield* fn();\n      // Avoid keeping the promise around\n      // now that we have the result.\n      resultP = null;\n      resolve(result);\n      return result;\n    } catch (error) {\n      reject(error);\n      throw error;\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}